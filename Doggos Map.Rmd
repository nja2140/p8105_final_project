---
title: "Doggos Map"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(viridis)
library(leaflet)
lat_lon = read.csv("./data/lat-long.csv")
```

```{r}
distinct_dogz %>% 
  drop_na() %>% 
  select(latitude, longitude, license_id, zip_code) %>% 
  group_by(zip_code)
```


This code runs. Dont really like it though. 
```{r}
pal = colorNumeric(
  palette = "viridis",
  domain = distinct_dogz$zip_code)

distinct_dogz %>% 
  group_by(breed_name) %>% 
  mutate(click_label = str_c("<b> year(s)", dog_age, "</b><br>", animal_birth_year, "born <br>", animal_gender, " gender")) %>% 
  leaflet() %>% 
  addProviderTiles(providers$CartoDB.Positron) %>% 
  addCircleMarkers(~longitude, ~latitude, radius = .1, color = ~pal(zip_code), popup = ~click_label)
```



```{r}
dogz_map_data = 
  distinct_dogz %>% 
  select(latitude, longitude, license_id, zip_code) %>% 
  mutate(
    license_id = as.numeric(license_id),
    zip_code = as.numeric(zip_code)
  ) %>%
  group_by(zip_code) %>% 
  summarize(n = n()) 


pal = colorNumeric(
  palette = "viridis",
  domain = dogz_map_data$zip_code)

dogz_map_data %>% 
  na.omit(zip_code) %>% 
  leaflet() %>% 
  addProviderTiles(providers$CartoDB.Positron) %>% 
  addCircleMarkers(~longitude, ~latitude, radius = .1, color = ~pal(zip_code))
```





